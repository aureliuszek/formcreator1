Aplikacja FormCreator - etap 2

Nomenklatura:

Dokument - formularz wypełniony przez użytkownika aplikacji.

Zadania:

1. Napisz interfejs DataStorage. Będzie stanowił definicję dla klas odpowiadających za zapis i odczyt danych. Interfejs powinien definiować metody:

* saveDocument() - metoda powinna pobierać jako parametr obiekt z wartościami pól formularza (typ any) i zwracać identyfikator dokumentu (string)

* loadDocument() - metoda powinna pobierać jako parametr identyfikator dokumentu i zwracać obiekt z wartościami dokumentu (czyli wartościami wypełnionych przez użytkownika pól formularza)

* getDocuments() - metoda powinna zwracać tablicę idenfikatorów wszystkich zapisanych dokumentów.

2. Napisz klasę LocStorage implementującą interfejs DataStorage. Klasa LocStorage powinna wykorzystywać obiekt localStorage do przechowywania danych.

Wskazówki:

* zapisuj dokumenty używając klucza dokumentu jako klucza elementu w localStorage

* metoda saveDocument() powinna wygenerować unikalny identyfikator dokumentu. Użyj Date.now() do pobrania daty (timestamp) zapisania dokumentu. Idenfytikator twórz w oparciu o szablon "document-timestamp".

* zapamiętaj wszystkie dokumenty (id dokumentu) w osobnym elemencie w localStorage (tablica).

* pamiętaj, że w localStorage zapisujemy stringi. Aby zapisać obiekt z wartościami formularza użyj obiektu JSON do serializacji danych.

3. Napisz nową klasę DocumentList. Klasa powinna zawierać właściwość przetrzymującą listę wszystkich dokumentów oraz metody:

* getDocumentList() - metoda powinna korzystać z klasy LocStorage do pobrania listy dokumentów i zapamiętania jej w wewn. właściwości klasy

* render() - metoda powinna wyświetlać listę dokumentów w formie tabeli zawierającej id dokumentu.

4. Rozbuduj interface Field i klasy dziedziczące po tym interfejsie o metodę getValue(). Metoda ta powinna zwracać aktualną wartość pola. Czyli np. dla InputField getValue() powinno zwracać aktualną wartość <input>, dla TextAreaField aktualną wartość <textarea> itd.

5. Rozbuduj metodę render() klasy Form o renderowanie przycisku zapisu formularza oraz przycisku wyjścia ("Wstecz").

Kliknięcie w przycisk "Zapisz" powinno uruchamiać metodę save() klasy Form. Metoda save() powinna zapisać dokument wykorzystując do tego celu klasę LocStorage i następnie przekierować użytkownika na stronę /index.html

Kliknięcie w "Wstecz" powinno przekierować użytkownika na stronę /index.html. Do przekierowania możesz użyć właściwości window.location.href

6. Utwórz nowy plik new-document.html. Użytkownik trafiający na stronę /new-document.html powinien widzieć nowy, pusty dokument do wypełnienia (czyli widok z poprzedniego etapu projektu).

7. Utwórz nowy plik document-list.html. Strona powinna korzystać z klasy DocumentList do wyświetlenia listy zapisanych dokumentów.

8. Zmodyfikuj plik index.html - strona startowa aplikacji powinna wyświetlać jedynie menu z linkiem do nowego formularza i listy dokumentów.